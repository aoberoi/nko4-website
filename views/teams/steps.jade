ul.steps
  li( class=team.entry.name ? 'done' : 'pending' )
    a( href='#entry' ) Entry info
  li( class=team.lastDeploy ? 'done' : 'pending' )
    a( href='#deploy' ) Deploy
  li( class=team.entry.votable ? 'done' : 'pending' )
    a( href='#votable' ) Submit for Voting

.step#entry
  - if (!team.entry.name)
    h2.pending Entry Info Missing
    p Describe to judges what your entry is about.
      a.button( href='/teams/' + team + '/edit' ) Add &raquo;
  - else
    h2.done Entry Info Complete
    p Change this information at any time.
      a.button( href='/teams/' + team + '/edit' ) Edit &raquo;

.step#deploy
  - if (false && (lastDeploy = team.lastDeploy))
    h2.done Successfully Deployed
      .details
        - lastDeployedAt = new Date(lastDeploy._id.generationTime)
        time( datetime=lastDeployedAt.toISOString(),
              title=lastDeployedAt.toISOString() )
          = relativeDate(lastDeployedAt)
        |  &mdash;
        a( href=team.entry.url )= team.entry.url
  - else
    h2.pending Not Yet Deployed
  != partial('secrets')

  h3
    a( href='http://blog.nodeknockout.com/post/9428533699/nko-quick-start' ) NKO Quick Start

  h4 Deploy check-in &mdash; 
    a( href='https://github.com/nko3/website/tree/master/module#readme' ) More info
  ul
    li require('nko')('
      b= team.code
      | '); \/\/ team code
    li export NODE_ENV=production

  h4 Joyent no.de &mdash; 
    a( href='http://blog.nodeknockout.com/post/9393790204/coundown-to-ko-20-no-de-getting-started-guide' ) More info

  h4 Heroku &mdash; 
    a( href='http://blog.nodeknockout.com/post/9262660989/countdown-to-ko-10-deploying-your-node-js-app-to' ) More info
  ul
    li heroku login
    li git remote add heroku git@heroku.com:nko3-#{team.slug}.git
    li git push heroku master

  h4 Linode &mdash; 
    a( href='http://blog.nodeknockout.com/post/9300619913/countdown-to-ko-14-deploying-your-node-js-app-to' ) More info
  ul
    li
      | Login to
      a( href='https://manager.linode.com/' ) Linode Manager
      //- table
        tr
          th Username
          td= team.linode.username
        tr
          th Password
          td= team.linode.password
        tr
          th IP
          td= team.linode.ip_address

.step#votable
  form( method='POST', action='/teams/' + team )
    != _csrf
    input( type='hidden', name='_method', value='PUT' )

    - if (!team.entry.votable)
      h2.pending Not Officially Submitted
      p
        | Your app is not yet officially submitted for voting. When you
        | submit it for voting, judges will review it at:
        a( href=team.entry.url )= team.entry.url
        | .

      input( type='hidden', name='entry[votable]', value=1 )
      .buttons: input.scary( type='submit', value='Submit for Voting' )

      p
        b You can submit your app for voting any time between now and
        | then end of judging. You can also change your mind and remove it
        | from voting at any time.

    - else
      h2.done Submitted for Voting
      p Judges will review your app at: 
        a( href=team.entry.url)= team.entry.url
        | .

      input( type='hidden', name='entry[votable]', value=0 )
      .buttons: input( type='submit', value='Remove from Voting' )
